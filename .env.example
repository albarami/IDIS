# IDIS Environment Configuration Example
# Copy this file to .env and fill in your values
# NEVER commit .env to version control

# =============================================================================
# Database Configuration
# =============================================================================

# PostgreSQL (primary store - required for production)
DATABASE_URL=postgresql://user:password@localhost:5432/idis

# =============================================================================
# Neo4j Aura Configuration (Graph Database for Sanad chains)
# =============================================================================
# Neo4j Aura uses encrypted connection URIs (neo4j+s:// scheme)
# Official driver documentation: https://neo4j.com/docs/python-manual/current/

# Connection URI - use neo4j+s:// for Aura (encrypted)
# Format: neo4j+s://<instance-id>.databases.neo4j.io
NEO4J_URI=neo4j+s://xxxxxxxx.databases.neo4j.io

# Authentication credentials (from Aura console)
NEO4J_USERNAME=neo4j
NEO4J_PASSWORD=your-aura-password-here

# =============================================================================
# API Authentication
# =============================================================================

# JSON map of API keys to tenant configurations
# Format: {"api-key": {"tenant_id": "uuid", "actor_id": "uuid", "name": "...", ...}}
# IDIS_API_KEYS_JSON={}

# =============================================================================
# Audit Configuration
# =============================================================================

# Path for JSONL audit log (fallback when Postgres unavailable)
IDIS_AUDIT_LOG_PATH=var/audit/audit_events.jsonl

# =============================================================================
# Rate Limiting
# =============================================================================

# Redis URL for distributed rate limiting (optional - uses in-memory if not set)
# REDIS_URL=redis://localhost:6379/0

# =============================================================================
# Observability
# =============================================================================

# OpenTelemetry exporter endpoint
# OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4317

# Service name for tracing
OTEL_SERVICE_NAME=idis-api

# =============================================================================
# Security
# =============================================================================

# Secret key for webhook HMAC signing
# WEBHOOK_HMAC_SECRET=your-secret-key-here

# =============================================================================
# Development Settings
# =============================================================================

# Set to "development" for local dev, "production" for prod
ENVIRONMENT=development

# Enable debug mode (never in production)
DEBUG=false
