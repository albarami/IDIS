# IDIS Kubernetes Secret Template
# IMPORTANT: This is a TEMPLATE ONLY - do not commit actual secrets!
#
# Usage:
#   1. Copy this file: cp secret.example.yaml secret.yaml
#   2. Replace placeholder values with base64-encoded secrets
#   3. Apply: kubectl apply -f secret.yaml
#   4. Do NOT commit secret.yaml to version control
#
# To base64 encode a value:
#   echo -n 'your-secret-value' | base64
#
apiVersion: v1
kind: Secret
metadata:
  name: idis-secrets
  namespace: idis
  labels:
    app.kubernetes.io/name: idis
    app.kubernetes.io/component: api
type: Opaque
data:
  # PostgreSQL connection string (required)
  # Example: postgresql://idis_app:password@postgres-host:5432/idis
  IDIS_DATABASE_URL: "cG9zdGdyZXNxbDovL2lkaXNfYXBwOnBhc3N3b3JkQHBvc3RncmVzLWhvc3Q6NTQzMi9pZGlz"
  # PostgreSQL admin URL for migrations (optional)
  IDIS_DATABASE_ADMIN_URL: "cG9zdGdyZXNxbDovL3Bvc3RncmVzOnBhc3N3b3JkQHBvc3RncmVzLWhvc3Q6NTQzMi9pZGlz"
  # Redis URL (optional, for caching)
  IDIS_REDIS_URL: "cmVkaXM6Ly9yZWRpcy1ob3N0OjYzNzkvMA=="
  # OTLP endpoint for tracing (optional)
  IDIS_OTEL_EXPORTER_OTLP_ENDPOINT: "aHR0cDovL290ZWwtY29sbGVjdG9yOjQzMTc="
---
# Alternative: Use ExternalSecret with a secrets manager
# apiVersion: external-secrets.io/v1beta1
# kind: ExternalSecret
# metadata:
#   name: idis-secrets
#   namespace: idis
# spec:
#   refreshInterval: 1h
#   secretStoreRef:
#     kind: ClusterSecretStore
#     name: vault-backend
#   target:
#     name: idis-secrets
#   data:
#     - secretKey: IDIS_DATABASE_URL
#       remoteRef:
#         key: idis/database
#         property: url
